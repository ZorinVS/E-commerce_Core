# E-commerce Core

## Описание

Этот проект представляет собой ядро для интернет-магазина, включающее описание основных сущностей, 
таких как продукты и категории, а также функционал для инициализации объектов из JSON-файла. 
На данном этапе система платежей не реализована, однако подготавливается все для того, чтобы появилось 
ядро, готовое для дальнейшего развития и создания интерфейсов — от сайта до телеграм-бота.

## Основные возможности

- Описание и создание объектов различных типов продуктов (например, смартфоны, трава газонная).
- Поддержка механизма наследования атрибутов и методов от родительского класса Product при создании различных типов продуктов.
- Создание и управление категориями продуктов.
- Инициализация объектов из JSON-файла.
- Подсчет количества продуктов и категорий.
- Добавление новых продуктов в категории.
- Обновление существующих продуктов по цене и количеству.
- Итерация по товарам в категориях с использованием вспомогательного класса.

## Функциональность

E-commerce Core включает следующие модули:

- main.py
- category.py
- lawn_grass_product.py
- product.py
- smartphone_product.py
- utils.py

### Обзор функциональных модулей:

#### main.py

Основной модуль, обеспечивающий запуск приложения и демонстрацию работы с объектами.

#### category.py

Модуль, содержащий класс для представления категорий.

- Category: Класс для представления категории.
  - Атрибуты на уровне класса:
    - `category_count`: Количество категорий.
    - `product_count`: Количество продуктов.
  - Атрибуты экземпляра:
    - `name`: Название категории.
    - `description`: Описание категории.
    - `products`: Список продуктов в категории (приватный).
  - Методы:
    - `__init__`: Конструктор для инициализации экземпляра категории.
    - `__str__`: Dunder-метод для строкового отображения информации об объекте.
    - `add_product`: Метод для добавления продукта в категорию.
  - Свойства:
    - `products`: Геттер для получения списка продуктов в виде строк.
    - `products_list`: Геттер для получения списка продуктов.

- CategoryProductsIterator: Вспомогательный класс для итерации по товарам в категории.
  - Атрибуты экземпляра:
    - `category`: Ссылка на объект категории, по товарам которой будет происходить итерация (приватный).
    - `index`: Текущий индекс итерации (приватный).
  - Методы:
    - `__init__`: Конструктор для инициализации итератора с объектом категории.
    - `__iter__`: Dunder-метод для возврата итератора.
    - `__next__`: Dunder-метод для перехода к следующему значению и его считывания.

#### lawn_grass_product.py

Модуль, содержащий класс для представления травы газонной.

- LawnGrass: Класс для представления травы газонной.
  - Наследует: Все атрибуты и методы от класса Product.
  - Дополнительные атрибуты экземпляра:
    - `country`: Страна-производитель.
    - `germination_period`: Срок прорастания.
    - `color`: Цвет.
  - Методы:
    - `__init__`: Конструктор для инициализации экземпляра класса LawnGrass, расширяет базовый конструктор класса Product, добавляя специфические для газонной травы атрибуты (country, germination_period, color).
    - `__add__`: Dunder-метод для сложения двух объектов класса LawnGrass, возвращает полную стоимость всех товаров газонной травы на складе. Если другой объект не является экземпляром класса LawnGrass, выбрасывается ошибка типа (TypeError).

#### product.py

Модуль, содержащий класс для представления продуктов.

- Product: Класс для представления продукта.
  - Атрибуты на уровне класса:
    - `all_products`: Список всех продуктов.
  - Атрибуты экземпляра: 
    - `name`: Название продукта.
    - `description`: Описание продукта.
    - `price`: Цена продукта (приватный).
    - `quantity`: Количество продукта.
  - Методы:
    - `__init__`: Конструктор для инициализации экземпляра продукта.
    - `__str__`: Dunder-метод для строкового представления объекта продукта, возвращает строку с названием, ценой и количеством продукта.
    - `__add__`: Dunder-метод для сложения товаров и получения полной стоимости всех товаров на складе.
    - `new_product`: Класс-метод для создания нового продукта или обновления существующего. Если продукт с таким же названием уже существует, обновляет его количество и цену (если новая цена выше).
  - Свойства:
    - `price`: Геттер и сеттер для работы с ценой продукта.

#### smartphone_product.py

Модуль, содержащий класс для представления смартфона.

- Smartphone: Класс для представления смартфона.
  - Наследует: Все атрибуты и методы от класса Product.
  - Дополнительные атрибуты экземпляра:
    - `efficiency`: Производительность смартфона.
    - `model`: Модель смартфона.
    - `memory`: Объем встроенной памяти смартфона.
    - `color`: Цвет смартфона.
  - Методы:
    - `__init__`: Конструктор для инициализации экземпляра класса Smartphone, расширяет базовый конструктор класса Product, добавляя специфические для смартфона атрибуты (efficiency, model, memory, color).
    - `__add__`: Dunder-метод для сложения двух объектов класса Smartphone, возвращает полную стоимость всех смартфонов на складе. Если другой объект не является экземпляром класса Smartphone, выбрасывается ошибка типа (TypeError).

#### utils.py

Модуль, содержащий утилитарную функцию для работы с JSON-файлом.

- `make_the_python_objects_from_json`: Функция для создания объектов из JSON-файла.
  - Параметры: `file_path` (путь до JSON-файла, опционально).
  - Возвращает: картеж списков объектов категорий и продуктов.

## Зависимости

- Python 3.12
- flake8 7.1.0
- isort 5.13.2
- black 24.8.0
- mypy 1.11.1
- pytest 8.3.2
- pytest-cov 5.0.0

## Установка

1. Клонируйте репозиторий:
```bash
git clone git@github.com:ZorinVS/E-commerce_Core.git
```
2. Установите зависимости:
```bash
poetry install
```

## Тестирование проекта

Тестирование проекта проводится с использованием пакета tests, который включает следующие файлы:

- init.py
- conftest.py
- test_category.py
- test_lawn_grass_product.py
- test_product.py
- test_smartphone_product.py
- test_utils.py

### Есть два способа выполнить тестирование проекта:
1. Используя терминал PyCharm:
```bash
pytest tests
```
2. Используя функциональность PyCharm:
- Откройте окно **Edit Configurations**.
- Выберите **pytest**.
- Укажите директорию, содержащую тесты, и директорию проекта.
- Подтвердите изменения, нажав **Apply** и **OK**.
- Запустите **pytest in tests**

## Документация

Для получения дополнительной информации, пожалуйста, свяжитесь с...

## Лицензия

Этот проект лицензирован в соответствии с условиями [MIT License](LICENSE).
